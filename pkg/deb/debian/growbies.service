[Unit]
Description=Growbies Service
Requires=growbies-init-tables.service
After=network.target growbies-init-tables.service

[Service]
User=growbies
Group=growbies
ExecStart=/usr/lib/growbies/venv/bin/python -m growbies.service

# On stop, send SIGINT
KillSignal=SIGINT
KillMode=control-group

# Give the service up to 20s to exit gracefully.
# After that, systemd sends SIGKILL automatically.
TimeoutStopSec=20

RuntimeDirectory=growbies
RuntimeDirectoryMode=2770
# New files will be created with 664 permissions as opposed to the default of 022 resulting in
# 644 permissions
UMask = 0002
SuccessExitStatus=0

[Install]
WantedBy=multi-user.target
